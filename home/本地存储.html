<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <input type="text">
    <button class="set">存储数据</button>
    <button class="get">获取数据</button>
    <button class="remove">删除数据</button>
    <button class="clear">删除数据</button>
    <script>
    // 获取元素
    let inp = document.querySelector("input");
    let setBtn = document.querySelector(".set");
    let getBtn = document.querySelector(".get");
    let removeBtn = document.querySelector(".remove");
    let clearBtn = document.querySelector(".clear");

    // sessionStorage的操作
    let arr=[
        {id:1,name:"lw",age:20},
        {id:1,name:"zs",age:26},
        {id:1,name:"yy",age:18},
        {id:1,name:"sb",age:32}
    ]
    // 存储数据
    // setBtn.onclick = function() {
    //     sessionStorage.setItem("name",inp.value)
    //     sessionStorage.setItem("pwd",'123456')
    // }
  
    // // 获取数据
    // getBtn.onclick = function() {
    //     let res=sessionStorage.getItem("name")
    //     console.log( res );
    // }

    // // 删除数据
    // removeBtn.onclick = function() {
    //     sessionStorage.removeItem("pwd")
    // }

    // // 删除所有数据
    // clearBtn.onclick = function() {
    //     sessionStorage.clear()
    // }
    setBtn.onclick = function() {
        // 以下储存数据，是能存，但是原先的数据信息弄丢了[object Object],[object Object],[object Object],[object Object]

        // 正确写法=》先把数据进行序列化
      let obj=JSON.stringify(arr)
        localStorage.setItem("info",obj)
       
    }
  
    // 获取数据
    getBtn.onclick = function() {
        let res=localStorage.getItem("info")//json字符串==》反序列化得到js对象
        let data=JSON.parse(res)
        console.log( data );
    }

   
    </script>
</body>

</html>
